#:import sys sys
#:import os os

MDScreenManager:
    md_bg_color: self.theme_cls.backgroundColor

    MDScreen:
        name: "game_start_menu"
        MDFloatLayout:
            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .95}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: sys.exit(0)

                MDButtonIcon:
                    icon: "exit-to-app"

                MDButtonText:
                    text: "Выход"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                #width: dp(240)
                size_hint_x: 0.125
                pos_hint: {"x": .05, "top": .85}
                on_release: app.choice_create_room()

                MDButtonIcon:
                    icon: "location-enter"

                MDButtonText:
                    text: "Выбрать комнату"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                #width: dp(240)
                size_hint_x: 0.125
                pos_hint: {"x": .05, "top": .75}

                MDButtonIcon:
                    icon: "domino-mask"

                MDButtonText:
                    text: "Кастомизация"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                #width: dp(240)
                size_hint_x: 0.125
                pos_hint: {"x": .05, "top": .65}
                on_release: app.DIALOG_MANAGER("situation_choice")

                MDButtonIcon:
                    icon: "wrench"

                MDButtonText:
                    text: "Выбрать режим"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                #width: dp(240)
                size_hint_x: 0.125
                pos_hint: {"x": .05, "top": .55}
                on_release: app.change_theme_color()

                MDButtonIcon:
                    icon: "format-color-fill"

                MDButtonText:
                    text: "Сменить цвет"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                #width: dp(240)
                size_hint_x: 0.125
                pos_hint: {"x": .05, "top": .45}
                on_release: app.change_theme()

                MDButtonIcon:
                    icon: "theme-light-dark"

                MDButtonText:
                    text: "Сменить тему"
                    pos_hint: {"center_x": .5, "center_y": .5}

            Label:
                text: 'Digital Pong'
                font_size: 72
                color: 'white'
                outline_color: 'gray'
                outline_width: 2
                pos_hint: {"center_x": .5, "center_y": .55}

            MDBoxCard:
                orientation: 'horizontal'
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                pos_hint: {'right': .95, 'top': .95}
                size_hint: .17, .05
                radius: dp(16), dp(16), dp(16), dp(16)
                padding: [dp(15), 0, dp(15), 0]
                #on_touch_down: if self.collide_point(*args[1].pos): app.open_dialog("user_log")

                Label:
                    id: user_name
                    text: ''
                    font_size: 24
                    color: 'gray'
                    font_name: "../../../data/fonts/MonospaceBold.ttf"

                MDIconButton:
                    id: situation_icon
                    icon: ""
                    disabled: True
                    pos_hint: {"center_y": 0.5}


    MDScreen:
        name: "offline_room_creation_menu"
        MDFloatLayout:
            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .95}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: app.root.current = "game_start_menu"

                MDButtonIcon:
                    icon: "arrow-left-bold"

                MDButtonText:
                    text: "Назад"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .85}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: pass

                MDButtonIcon:
                    icon: "shape-plus-outline"

                MDButtonText:
                    text: "Создать"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDFloatLayout:
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.40609375)
                radius: dp(12), dp(12), dp(12), dp(12)
                pos_hint: {"center_x": .5, "top": .95}
                size_hint: 0.40, 0.9

                Label:
                    text: 'Параметры комнаты'
                    font_size: 24
                    pos_hint: {"center_x": .5, "center_y": 0.92}
                    color: "black"

                MDFloatLayout:
                    size_hint: .9, .8
                    pos_hint: {"x": .05, "y": .05}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.15}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_radius_ofl")

                        Label:
                            text: 'Радиус шара'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: ball_radius_ofl
                            text: "1"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.30}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_speed_ofl")

                        Label:
                            text: 'Скорость шара'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: ball_speed_ofl
                            text: "2"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.45}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_boos_ofl")

                        Label:
                            text: 'Ускорение шара'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: ball_boos_ofl
                            text: "1.0"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.60}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_speed_ofl")

                        Label:
                            text: 'Скорость платформ'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: platform_speed_ofl
                            text: "1"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.75}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_height_ofl")

                        Label:
                            text: 'Высота платформ'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: platform_height_ofl
                            text: "40"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

                    MDFloatCard:
                        md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                        radius: dp(12), dp(12), dp(12), dp(12)
                        pos_hint: {"center_x": .5, "center_y": 0.90}
                        size_hint: .9, .07
                        on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_width_ofl")

                        Label:
                            text: 'Ширина платформ'
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.15}

                        Label:
                            id: platform_width_ofl
                            text: "5"
                            font_size: 16
                            color: 'black'
                            pos_hint: {"center_y": 0.5, "center_x": 0.5}

    MDScreen:
        name: "online_room_creation_menu"

        MDFloatLayout:
            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .95}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: app.root.current = "game_start_menu"

                MDButtonIcon:
                    icon: "arrow-left-bold"

                MDButtonText:
                    text: "Назад"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .85}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: pass

                MDButtonIcon:
                    icon: "shape-plus-outline"

                MDButtonText:
                    text: "Создать"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .75}
                #width: dp(240)
                size_hint_x: 0.125
                on_release: pass

                MDButtonIcon:
                    icon: "magnify"

                MDButtonText:
                    text: "Искать"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDFloatLayout:
                pos_hint: {"x": .225, "top": .95}
                size_hint: 1 - (.225  + .05), .9

                MDFloatLayout:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.40609375)
                    size_hint: 1, 1
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    radius: dp(12), dp(12), dp(12), dp(12)

                    Label:
                        text: 'Участники'
                        font_size: 24
                        color: 'black'
                        pos_hint: {"center_x": .25, "center_y": 0.92}

                    Label:
                        text: 'Параметры комнаты'
                        font_size: 24
                        color: 'black'
                        pos_hint: {"center_x": .7, "center_y": 0.92}

                    MDFloatLayout:
                        size_hint: .9, .8
                        pos_hint: {"x": .05, "y": .05}
                        #md_bg_color: 'black'

                        MDFloatLayout:
                            md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.35609375)
                            radius: dp(12), dp(12), dp(12), dp(12)
                            size_hint: .33, .4
                            pos_hint: {"x": .05, "top": 1}

                            Label:
                                text: 'Слева'
                                font_size: 20
                                color: 'black'
                                pos_hint: {"center_x": .5, "center_y": 0.9}

                            MDFloatLayout:
                                id: player_position_left_1
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.7}

                            MDFloatLayout:
                                id: player_position_left_2
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.45}

                            MDFloatLayout:
                                id: player_position_left_
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.2}

                        MDFloatLayout:
                            md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.35609375)
                            radius: dp(12), dp(12), dp(12), dp(12)
                            size_hint: .33, .4
                            pos_hint: {"x": .05, "y": 0}

                            Label:
                                text: 'Справа'
                                font_size: 20
                                color: 'black'
                                pos_hint: {"center_x": .5, "center_y": 0.9}

                            MDFloatLayout:
                                id: player_position_right_1
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.7}

                            MDFloatLayout:
                                id: player_position_right_2
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.45}

                            MDFloatLayout:
                                id: player_position_right_3
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 1.0)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                size_hint: .9, .17
                                pos_hint: {"center_x": 0.5, "center_y": 0.2}

                        MDFloatLayout:
                            md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.35609375)
                            radius: dp(12), dp(12), dp(12), dp(12)
                            size_hint: .45, 1
                            pos_hint: {"right": .95, "y": 0}

                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.90}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "bots_can")

                                Label:
                                    id: bots_can
                                    text: "False"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Наличие ботов'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.78}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "users_quantity")

                                Label:
                                    id: users_quantity
                                    text: "1"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Количество участников'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.66}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_radius_onl")

                                Label:
                                    id: ball_radius_onl
                                    text: "1"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Радиус шара'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.54}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_speed_onl")

                                Label:
                                    id: ball_speed_onl
                                    text: "1"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Скорость шара'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.42}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "ball_boos_onl")

                                Label:
                                    id: ball_boos_onl
                                    text: "1.0"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Ускорение шара'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.30}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_speed_onl")

                                Label:
                                    id: platform_speed_onl
                                    text: "1"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Скорость платформ'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}



                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.18}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_height_onl")

                                Label:
                                    id: platform_height_onl
                                    text: "40"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Высота платформ'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}

                            MDFloatCard:
                                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                                radius: dp(12), dp(12), dp(12), dp(12)
                                pos_hint: {"center_x": .5, "center_y": 0.06}
                                size_hint: .90, .08
                                on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "platform_width_onl")

                                Label:
                                    id: platform_width_onl
                                    text: "5"
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_y": 0.5, "center_x": 0.6}

                                Label:
                                    text: 'Ширина платформ'
                                    font_size: 16
                                    color: 'black'
                                    pos_hint: {"center_x": 0.2, "center_y": 0.5}
