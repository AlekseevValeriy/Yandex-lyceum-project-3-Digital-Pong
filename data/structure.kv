#:import sys sys
#:import os os

MDScreenManager:
    md_bg_color: self.theme_cls.backgroundColor

    MDScreen:
        name: "game_state_selection_screen"

        MDFloatLayout:

            MDFloatCard:
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                size_hint: .33, .33
                pos_hint: {'center_x': .33, 'center_y': .5}
                size_hint: (0.25, 0.3)
                radius: dp(36), dp(36), dp(36), dp(36)
                on_touch_down: if self.collide_point(*args[1].pos): app.choice_state_enter("online")

                Label:
                    pos_hint: {'center_x': .5, 'center_y': .65}
                    text: 'ОНЛАЙН'
                    font_size: 18
                    color: 'black'

                Label:
                    pos_hint: {'center_x': .5, 'center_y': .35}
                    text:'Вы будете играть лишь с реальными людьми\nИметь аккаунт обязательно'
                    halign: 'center'
                    font_size: 18
                    color: 'black'

            MDFloatCard:
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                size_hint: .33, .33
                pos_hint: {'center_x': .66, 'center_y': .5}
                size_hint: .25, .3
                radius: dp(36), dp(36), dp(36), dp(36)
                on_touch_down: if self.collide_point(*args[1].pos): app.choice_state_enter("offline")

                Label:
                    pos_hint: {'center_x': .5, 'center_y': .65}
                    text: 'ОФФЛАЙН'
                    font_size: 18
                    font_kerning: 10
                    color: 'black'

                Label:
                    pos_hint: {'center_x': .5, 'center_y': .35}
                    text: 'Вы будете играть лишь ботами\nИметь аккаунт не обязательно'
                    halign: 'center'
                    font_size: 18
                    color: 'black'

    MDScreen:
        name: "game_start_menu"
        MDFloatLayout:
            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .95}
                width: dp(240)
                on_release: sys.exit(0)

                MDButtonIcon:
                    icon: "exit-to-app"

                MDButtonText:
                    text: "Выход"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                width: dp(240)
                pos_hint: {"x": .05, "top": .85}
                on_release: app.choice_create_room()

                MDButtonIcon:
                    icon: "location-enter"

                MDButtonText:
                    text: "Выбрать комнату"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                width: dp(240)
                pos_hint: {"x": .05, "top": .75}

                MDButtonIcon:
                    icon: "domino-mask"

                MDButtonText:
                    text: "Кастомизация"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                width: dp(240)
                pos_hint: {"x": .05, "top": .65}
                on_release: app.root.current = "game_state_selection_screen"

                MDButtonIcon:
                    icon: "wrench"

                MDButtonText:
                    text: "Выбрать режим"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                width: dp(240)
                pos_hint: {"x": .05, "top": .55}
                on_release: app.change_theme_color()

                MDButtonIcon:
                    icon: "format-color-fill"

                MDButtonText:
                    text: "Сменить цвет"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                width: dp(240)
                pos_hint: {"x": .05, "top": .45}
                on_release: app.change_theme()

                MDButtonIcon:
                    icon: "theme-light-dark"

                MDButtonText:
                    text: "Сменить тему"
                    pos_hint: {"center_x": .5, "center_y": .5}

            Label:
                text: 'Digital Pong'
                font_size: 72
                color: 'white'
                outline_color: 'gray'
                outline_width: 2
                pos_hint: {"center_x": .5, "center_y": .55}

            MDFloatCard:
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                pos_hint: {'right': .95, 'top': .95}
                size_hint: .125, .05
                radius: dp(16), dp(16), dp(16), dp(16)

                Label:
                    pos_hint: {"center_x": .5, "center_y": .5}
                    text: '0123456789ABCDEF'
                    font_size: 24
                    color: 'gray'
                    font_name: "../../../data/fonts/MonospaceBold.ttf"

    MDScreen:
        name: "offline_room_creation_menu"
        MDFloatLayout:
            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .95}
                width: dp(240)
                on_release: app.root.current = "game_start_menu"

                MDButtonIcon:
                    icon: "arrow-left-bold"

                MDButtonText:
                    text: "Назад"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDButton:
                radius: dp(10), dp(10), dp(10), dp(10)
                style: "elevated"
                theme_width: "Custom"
                pos_hint: {"x": .05, "top": .85}
                width: dp(240)
                on_release: pass

                MDButtonIcon:
                    icon: "shape-plus-outline"

                MDButtonText:
                    text: "Создать"
                    pos_hint: {"center_x": .5, "center_y": .5}

            MDFloatLayout:
                md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.40609375)
                radius: dp(12), dp(12), dp(12), dp(12)
                pos_hint: {"center_x": .5, "top": .95}
                size_hint: 0.33, 0.70

                Label:
                    text: 'Параметры комнаты'
                    font_size: 24
                    color: 'black'
                    pos_hint: {"center_x": .5, "center_y": 0.90}

                MDFloatCard:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                    radius: dp(12), dp(12), dp(12), dp(12)
                    pos_hint: {"center_x": .5, "center_y": 0.75}
                    size_hint: .9, .07
                    on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "speed_ball_vars")

                    Label:
                        text: 'скорость шара'
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.15}

                    Label:
                        id: speed_ball
                        text: "0"
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.5}

                MDFloatCard:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                    radius: dp(12), dp(12), dp(12), dp(12)
                    pos_hint: {"center_x": .5, "center_y": 0.60}
                    size_hint: .9, .07
                    on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "speed_platforms_vars")

                    Label:
                        text: 'скорость платформ'
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.15}

                    Label:
                        id: speed_platforms
                        text: "0"
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.5}

                MDFloatCard:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                    radius: dp(12), dp(12), dp(12), dp(12)
                    pos_hint: {"center_x": .5, "center_y": 0.45}
                    size_hint: .9, .07
                    on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "width_vars")

                    Label:
                        text: 'ширина плит'
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.15}

                    Label:
                        id: platforms_width
                        text: "0"
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.5}

                MDFloatCard:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                    radius: dp(12), dp(12), dp(12), dp(12)
                    pos_hint: {"center_x": .5, "center_y": 0.30}
                    size_hint: .9, .07
                    on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "height_vars")

                    Label:
                        text: 'высота платформ'
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.15}

                    Label:
                        id: platforms_height
                        text: "0"
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.5}

                MDFloatCard:
                    md_bg_color: (0.890625, 0.87890625, 0.91015625, 0.99609375)
                    radius: dp(12), dp(12), dp(12), dp(12)
                    pos_hint: {"center_x": .5, "center_y": 0.15}
                    size_hint: .9, .07
                    on_touch_down: if self.collide_point(*args[1].pos): app.open_menu(self, "radius_ball_vars")

                    Label:
                        text: 'радиус шара'
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.15}

                    Label:
                        id: radius_ball
                        text: "0"
                        font_size: 16
                        color: 'black'
                        pos_hint: {"center_y": 0.5, "center_x": 0.5}